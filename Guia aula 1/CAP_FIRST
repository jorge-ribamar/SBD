CREATE FUNCTION CAP_FIRST (input varchar(100))

	RETURNS varchar(100)

	DETERMINISTIC

BEGIN
	DECLARE len INT;
	DECLARE idx INT;

	SET len   = CHAR_LENGTH(input);
	SET input = LOWER(input);
	SET idx = 0;

	WHILE (idx < len) DO
		IF (MID(input,idx,1) = ' ' OR idx = 0) THEN
			IF (idx < len) THEN
				SET input = CONCAT(
					SUBSTRING(input,0, idx),
					UPPER(SUBSTRING(input,idx + 1,1)),
					SUBSTRING(input,len - idx - 1));
			END IF;
		END IF;
		SET idx = idx + 1;
	END WHILE;

	RETURN input;
END;

